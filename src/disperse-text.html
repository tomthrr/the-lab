<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta
          name="viewport"
          content="width=device-width, minimal-ui, viewport-fit=cover, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no"
  />
  <link rel="icon" type="image/png" href="/favicon.ico" />

  <title>The lab</title>
  <link href="assets/main.scss" rel="stylesheet" />
  <link href="assets/disperse-text.scss" rel="stylesheet" />
</head>
<!-- margin 0 -->
<body class="app" style="margin: 0">
  <div class="container-project">
    <div class="main">
      <div class="line">
        <p>Ane</p>
        <p>Banane</p>
      </div>

      <div class="line">
        <p>Developer</p>
        <p>&</p>
      </div>

      <div class="line">
        <p>Life</p>
        <p>enjoyer</p>
      </div>
    </div>
  </div>
  <script type="module">
    import gsap from 'gsap'

    // Function to get characters and animate them
    function getChars(words) {
      const main = document.querySelector('.main');

      const line = document.createElement('div'); // Créez un nouvel élément div pour chaque ligne

      /**
       * Split the words into an array of words
       */

      words.split(" ").forEach((word, i) => {
        line.className = 'line animate'; // Ajoutez une classe si vous en avez besoin pour styliser les lignes
        word.split("").forEach((letter, index) => {
          const span = document.createElement('span');
          span.className = 'char';
          span.textContent = letter;
          line.appendChild(span);
        });
        main.appendChild(line);
      });

      /**
       * Animate the characters
       */

      const chars = line.querySelectorAll('.char');
      chars.forEach((char, i) => {
        line.addEventListener('mouseenter', () => {
          main.classList.add('active');
          char.classList.add('hovered');
          gsap.to(char, {
            x: animations[i].x,
            y: animations[i].y,
            rotationZ: animations[i].rotationZ,
            duration: 0.5
          })
        })

        line.addEventListener('mouseleave', () => {
          main.classList.remove('active');
          char.classList.remove('hovered');
          gsap.to(char, {
            x: 0,
            y: 0,
            rotationZ: 0,
            duration: 0.5
          })
        })
      })
    }

    // Appel de la fonction avec le mot que vous voulez animer
    getChars('+44123456789');
    getChars('• Mail');
    getChars('• Twitter');

    // Animation
    const animations = [
      {
        x: -15.8,
        y: -10.6,
        rotationZ: -29,
      },
      {
        x: -10.6,
        y: -2.4,
        rotationZ: 1,
      },
      {
        x: 12,
        y: 10.2,
        rotationZ: -6,
      },
      {
        x: 16.9,
        y: 23,
        rotationZ: 10,
      },
      {
        x: 10.9,
        y: -7.9,
        rotationZ: -19,
      },
      {
        x: 12.7,
        y: -12.5,
        rotationZ: 10,
      },
      {
        x: 12.4,
        y: -4.2,
        rotationZ: -10,
      },{
        x: 12.4,
        y: 12.2,
        rotationZ: -2,
      },
      {
        x: 13.5,
        y: 8.6,
        rotationZ: 6,
      },{
        x: 10.4,
        y: 12.2,
        rotationZ: 7,
      },
      {
        x: 12,
        y: -10.2,
        rotationZ: 10,
      },{
        x: 13.4,
        y: -1.2,
        rotationZ: -10,
      }
    ]
  </script>
</body>
</html>